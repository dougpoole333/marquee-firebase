{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport React from \"react\";\nimport { EmptyState, Layout, Page } from '@shopify/polaris';\nvar img = 'https://cdn.shopify.com/s/files/1/0757/9955/files/empty-state.svg';\n\nvar Index =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Index, _React$Component);\n\n  function Index(props) {\n    var _this;\n\n    _classCallCheck(this, Index);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Index).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_this), \"fetchThemes\",\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              fetch(\"/themes\", {\n                method: \"GET\"\n              }).then(function (response) {\n                return response.json();\n              }).then(function (json) {\n                return _this.setState({\n                  themes: json.data.themes\n                });\n              }).then(function () {\n                return console.log(_this.state.themes);\n              });\n\n            case 1:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    })));\n\n    _defineProperty(_assertThisInitialized(_this), \"handleChange\", function (event) {\n      _this.setState(_defineProperty({}, event.target.name, event.target.value));\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"logInput\", function () {\n      console.log(_this.state.themeId);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"sendRequest\",\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee2() {\n      var fetchUrl, method;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              fetchUrl = \"/api/\" + _this.state.themeId;\n              method = \"PUT\";\n              fetch(fetchUrl, {\n                method: method\n              }).then(function (response) {\n                return response.json();\n              }).then(function (json) {\n                return console.log(json);\n              });\n\n            case 3:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    })));\n\n    _this.state = {\n      inputThemeId: \"\",\n      themes: []\n    };\n    return _this;\n  }\n\n  _createClass(Index, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.fetchThemes();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(Page, null, React.createElement(Layout, null, React.createElement(EmptyState, {\n        heading: \"Add the Marquee section to your theme\",\n        action: {\n          content: 'Add',\n          onAction: function onAction() {\n            return _this2.sendRequest();\n          }\n        },\n        image: img\n      }, React.createElement(\"ul\", null, this.state.themes ? this.state.themes.map(function (el) {\n        return React.createElement(\"li\", null, el.name, \": \", React.createElement(\"strong\", null, el.id));\n      }) : null), React.createElement(\"p\", null, \"Enter the ID of the Theme where you want to add Marquee\"), React.createElement(\"input\", {\n        type: \"text\",\n        name: \"themeId\",\n        value: this.state.themeId,\n        onChange: this.handleChange\n      }))));\n    }\n  }]);\n\n  return Index;\n}(React.Component);\n\nexport default Index;","map":{"version":3,"sources":["/Users/dpoole/DEV/marquee3/pages/index.js"],"names":["EmptyState","Layout","Page","img","Index","props","fetch","method","then","response","json","setState","themes","data","console","log","state","event","target","name","value","themeId","fetchUrl","inputThemeId","fetchThemes","content","onAction","sendRequest","map","el","id","handleChange","React","Component"],"mappings":";;;;;;;;;;AAAA,SAASA,UAAT,EAAqBC,MAArB,EAA6BC,IAA7B,QAAyC,kBAAzC;AACA,IAAMC,GAAG,GAAG,mEAAZ;;IAEMC,K;;;;;AACJ,iBAAYC,KAAZ,EAAkB;AAAA;;AAAA;;AAChB,+EAAMA,KAAN;;AADgB;AAAA;AAAA;AAAA;AAAA,6BAuCJ;AAAA;AAAA;AAAA;AAAA;AACZC,cAAAA,KAAK,CAAC,SAAD,EAAY;AAAEC,gBAAAA,MAAM,EAAE;AAAV,eAAZ,CAAL,CACCC,IADD,CACM,UAAAC,QAAQ;AAAA,uBAAIA,QAAQ,CAACC,IAAT,EAAJ;AAAA,eADd,EAECF,IAFD,CAEM,UAAAE,IAAI;AAAA,uBAAI,MAAKC,QAAL,CAAc;AAACC,kBAAAA,MAAM,EAAEF,IAAI,CAACG,IAAL,CAAUD;AAAnB,iBAAd,CAAJ;AAAA,eAFV,EAGCJ,IAHD,CAGM;AAAA,uBAAMM,OAAO,CAACC,GAAR,CAAY,MAAKC,KAAL,CAAWJ,MAAvB,CAAN;AAAA,eAHN;;AADY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAvCI;;AAAA,mEA6CH,UAACK,KAAD,EAAW;AACxB,YAAKN,QAAL,qBAAiBM,KAAK,CAACC,MAAN,CAAaC,IAA9B,EAAsCF,KAAK,CAACC,MAAN,CAAaE,KAAnD;AACD,KA/CiB;;AAAA,+DAiDP,YAAM;AACfN,MAAAA,OAAO,CAACC,GAAR,CAAY,MAAKC,KAAL,CAAWK,OAAvB;AACD,KAnDiB;;AAAA;AAAA;AAAA;AAAA;AAAA,6BAqDJ;AAAA;AAAA;AAAA;AAAA;AAAA;AACRC,cAAAA,QADQ,GACG,UAAU,MAAKN,KAAL,CAAWK,OADxB;AAERd,cAAAA,MAFQ,GAEC,KAFD;AAGZD,cAAAA,KAAK,CAACgB,QAAD,EAAW;AAAEf,gBAAAA,MAAM,EAAEA;AAAV,eAAX,CAAL,CACCC,IADD,CACM,UAAAC,QAAQ;AAAA,uBAAIA,QAAQ,CAACC,IAAT,EAAJ;AAAA,eADd,EAECF,IAFD,CAEM,UAAAE,IAAI;AAAA,uBAAII,OAAO,CAACC,GAAR,CAAYL,IAAZ,CAAJ;AAAA,eAFV;;AAHY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KArDI;;AAEhB,UAAKM,KAAL,GAAa;AACXO,MAAAA,YAAY,EAAE,EADH;AAEXX,MAAAA,MAAM,EAAE;AAFG,KAAb;AAFgB;AAMjB;;;;wCACkB;AACjB,WAAKY,WAAL;AACD;;;6BACQ;AAAA;;AACP,aACE,oBAAC,IAAD,QACE,oBAAC,MAAD,QACE,oBAAC,UAAD;AACE,QAAA,OAAO,EAAC,uCADV;AAEE,QAAA,MAAM,EAAE;AACNC,UAAAA,OAAO,EAAE,KADH;AAENC,UAAAA,QAAQ,EAAE;AAAA,mBAAM,MAAI,CAACC,WAAL,EAAN;AAAA;AAFJ,SAFV;AAME,QAAA,KAAK,EAAExB;AANT,SAQE,gCACG,KAAKa,KAAL,CAAWJ,MAAX,GAAoB,KAAKI,KAAL,CAAWJ,MAAX,CAAkBgB,GAAlB,CAAuB,UAAAC,EAAE;AAAA,eAAI,gCAAKA,EAAE,CAACV,IAAR,QAAe,oCAASU,EAAE,CAACC,EAAZ,CAAf,CAAJ;AAAA,OAAzB,CAApB,GAAiG,IADpG,CARF,EAWE,yFAXF,EAYE;AACE,QAAA,IAAI,EAAC,MADP;AAEE,QAAA,IAAI,EAAC,SAFP;AAGE,QAAA,KAAK,EAAE,KAAKd,KAAL,CAAWK,OAHpB;AAIE,QAAA,QAAQ,EAAE,KAAKU;AAJjB,QAZF,CADF,CADF,CADF;AAyBD;;;;EArCiBC,KAAK,CAACC,S;;AA+D1B,eAAe7B,KAAf","sourcesContent":["import { EmptyState, Layout, Page } from '@shopify/polaris';\nconst img = 'https://cdn.shopify.com/s/files/1/0757/9955/files/empty-state.svg';\n\nclass Index extends React.Component {\n  constructor(props){\n    super(props);\n    this.state = {\n      inputThemeId: \"\",\n      themes: []\n    };\n  }\n  componentDidMount(){\n    this.fetchThemes();\n  }\n  render() {\n    return (\n      <Page>\n        <Layout>\n          <EmptyState\n            heading=\"Add the Marquee section to your theme\"\n            action={{\n              content: 'Add',\n              onAction: () => this.sendRequest()\n            }}\n            image={img}\n          >\n            <ul>\n              {this.state.themes ? this.state.themes.map( el => <li>{el.name}: <strong>{el.id}</strong></li>) : null}\n            </ul>\n            <p>Enter the ID of the Theme where you want to add Marquee</p>\n            <input\n              type=\"text\"\n              name=\"themeId\"\n              value={this.state.themeId}\n              onChange={this.handleChange} />\n\n          </EmptyState>\n        </Layout>\n      </Page>\n    );\n  };\n\n\n  fetchThemes = async () => {\n    fetch(\"/themes\", { method: \"GET\"})\n    .then(response => response.json())\n    .then(json => this.setState({themes: json.data.themes}))\n    .then(() => console.log(this.state.themes))\n  };\n  handleChange = (event) => {\n    this.setState({ [event.target.name] : event.target.value });\n  };\n\n  logInput = () => {\n    console.log(this.state.themeId)\n  }\n\n  sendRequest = async () => {\n    var fetchUrl = \"/api/\" + this.state.themeId; \n    var method = \"PUT\";\n    fetch(fetchUrl, { method: method })\n    .then(response => response.json())\n    .then(json => console.log(json))\n  }\n}\n\nexport default Index;\n"]},"metadata":{},"sourceType":"module"}