(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{RNiq:function(e,t,n){"use strict";n.r(t);var a=n("ln6h"),r=n.n(a),c=n("O40h"),l=n("0iUn"),i=n("sLSF"),s=n("MI3g"),u=n("a7VT"),o=n("AT/M"),d=n("Tit0"),f=n("hfKm"),h=n.n(f);function m(e,t,n){return t in e?h()(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=n("q1tI"),g=n.n(p),b=n("6mVS"),E=n("p46w"),O=n.n(E),j=function(e){function t(e){var n;return Object(l.default)(this,t),n=Object(s.default)(this,Object(u.default)(t).call(this,e)),m(Object(o.default)(n),"getThemes",Object(c.default)(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:fetch("/themes",{method:"GET"}).then(function(e){return e.json()}).then(function(e){return n.setState({themes:e.data.themes,loading:!1})});case 1:case"end":return e.stop()}},e)}))),m(Object(o.default)(n),"handleChange",function(e){n.setState({selected:e})}),m(Object(o.default)(n),"renderRedirect",function(){if(n.state.redirect&&!n.state.loading)return g.a.createElement(b.c,null,g.a.createElement("a",{target:"_blank",style:{textDecoration:"none"},href:"http://"+O.a.get("shopOrigin")+"/admin/themes/".concat(n.state.selected,"/editor")},g.a.createElement(b.b,{primary:!0},"OPEN CUSTOMIZER")),g.a.createElement(b.b,{primary:!0,onClick:n.triggerReset},"ADD MARQUEE TO ANOTHER THEME"))}),m(Object(o.default)(n),"renderSpinner",function(){if(n.state.loading)return g.a.createElement(b.c,null,g.a.createElement(b.g,null))}),m(Object(o.default)(n),"triggerReset",function(){n.setState({selecting:!0,selected:"",redirect:!1})}),m(Object(o.default)(n),"renderSelector",function(){if(n.state.selecting&&!n.state.loading)return g.a.createElement(b.c,null,g.a.createElement(b.f,{options:n.state.themes?n.state.themes.map(function(e){return{label:"".concat(e.name),value:"".concat(e.id)}}):null,onChange:n.handleChange,value:n.state.selected,placeholder:"select a theme"}),g.a.createElement(b.b,{primary:!0,onClick:n.assetUpdateRequest},"Add"))}),m(Object(o.default)(n),"assetUpdateRequest",Object(c.default)(r.a.mark(function e(){var t;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n.state.selected&&n.setState({loading:!0}),t="/api/"+n.state.selected,"PUT",fetch(t,{method:"PUT"}).then(function(e){return e.json()}).then(function(e){"success"===e.status&&n.setState({redirect:!0,selecting:!1,loading:!1})});case 4:case"end":return e.stop()}},e)}))),n.state={selecting:!0,loading:!0,selected:"",themes:[],redirect:!1},n}return Object(d.default)(t,e),Object(i.default)(t,[{key:"componentDidMount",value:function(){this.getThemes()}},{key:"render",value:function(){return g.a.createElement(b.e,null,g.a.createElement(b.d,null,this.renderSelector(),this.renderRedirect(),this.renderSpinner()))}}]),t}(g.a.Component);t.default=j},vlRD:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){var e=n("RNiq");return{page:e.default||e}}])}},[["vlRD",1,0]]]);