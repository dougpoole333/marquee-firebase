{"version":3,"file":"static/development/pages/index.js","sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/@babel/runtime-corejs2/core-js/object/define-property.js","webpack:///./node_modules/@babel/runtime-corejs2/helpers/esm/defineProperty.js","webpack:///./pages/help-info.js","webpack:///./pages/help.js","webpack:///./pages/index.js","webpack:///./pages/installs.js","webpack:///./pages/selector.js","webpack:///./pages/walkthrough-info.js","webpack:///./pages/window.js","webpack:///external \"@shopify/polaris\"","webpack:///external \"core-js/library/fn/object/define-property\"","webpack:///external \"js-cookie\"","webpack:///external \"moment\"","webpack:///external \"react\""],"sourcesContent":[" \t// The module cache\n \tvar installedModules = require('../../../ssr-module-cache.js');\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tvar threw = true;\n \t\ttry {\n \t\t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n \t\t\tthrew = false;\n \t\t} finally {\n \t\t\tif(threw) delete installedModules[moduleId];\n \t\t}\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n","module.exports = require(\"core-js/library/fn/object/define-property\");","import _Object$defineProperty from \"../../core-js/object/define-property\";\nexport default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    _Object$defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","class WalkthroughInfo extends React.Component {\n\n  render(){\n      if(this.props.field == \"faq\"){\n        return(\n          <h1>THIS IS THE FAQ SECTION</h1>\n        )\n      }\n      if(this.props.field == \"contact-us\"){\n        return(\n          <h1>THIS IS CONTACT US SECTION</h1>\n        )\n      }\n      if(this.props.field == \"other-products\"){\n        return(\n          <h1>THIS IS THE OTHER PRODUCTS SECTION</h1>\n        )\n      } else {\n        return (<h1> empty </h1>)\n      }\n\n  }\n}\n\nexport default WalkthroughInfo\n","import { Card, Tabs } from '@shopify/polaris';\nimport HelpInfo from './help-info.js'\n\nclass Help extends React.Component {\n  constructor(props){\n    super(props);\n    this.state = {\n      selected: 0\n    };\n  }\n\n  handleTabChange = (selectedTabIndex) => {\n    this.setState({selected: selectedTabIndex});\n  };\n\n  render() {\n    const selected = this.state.selected;\n    const tabs = [\n      {\n        id: 'faq',\n        content: 'FAQ'\n      },\n      {\n        id: 'contact-us',\n        content: 'Contact Us'\n      },\n      {\n        id: 'other-products',\n        content: 'Other Products'\n      }\n    ];\n\n    return (\n      <Card>\n        <Tabs tabs={tabs} selected={selected} onSelect={this.handleTabChange}>\n          <Card.Section title={tabs[selected].header}>\n            <HelpInfo field={tabs[selected].id} />\n          </Card.Section>\n        </Tabs>\n      </Card>\n    );\n  }\n}\n\nexport default Help\n","import { EmptyState, Spinner, Layout, Page, Select, Button } from '@shopify/polaris';\nimport Cookies from 'js-cookie';\nimport Selector from './selector.js'\nimport Window from './window.js'\nimport Help from './help.js'\n\nclass Index extends React.Component {\n  constructor(props){\n    super(props)\n    this.state = {\n      auth: false\n    };\n  }\n\n  componentDidMount(){\n    let urlParams = new URLSearchParams(window.location.search);\n    let shopOrigin = urlParams.get('shop');\n    shopOrigin ? this.setState({auth: true}) : null\n  }\n\n  renderDisplay = (auth) => {\n    if(auth){\n      return (\n      <Layout.Section>\n        <Selector />\n        <Window />\n        <Help />\n      </Layout.Section>\n      )\n    } else {\n      return(\n        <EmptyState>\n        </EmptyState>\n      )\n    }\n  }\n\n  render() {\n    console.log(this.state.auth)\n    return (\n      <Page>\n        {this.renderDisplay(this.state.auth)}\n      </Page>\n    );\n  };\n}\n\nexport default Index;\n","import { EmptyState, Spinner, Layout, Page, Select, Button } from '@shopify/polaris';\nimport moment from 'moment'\n\nimport \"./styles/installs.css\"\n\nclass Installs extends React.Component {\n  constructor(props){\n    super(props);\n  }\n\n  renderInstalls = () => {\n    if (this.props.installs.length > 0){\n      let arr = this.props.installs.map( (el, index) => { return(\n        <div  id={index} className=\"line\">\n          <a\n            className=\"target-link\"\n            target=\"_blank\"\n            style={{textDecoration: 'none'}}\n            href={'http://' + this.props.shopName + `.myshopify.com/admin/themes/${el.themeID}/editor`}>\n            {el.themeName}\n          </a>\n          <div className=\"theme-info\">\n            <h1>ID: {el.themeID}</h1>\n            <h1>{moment(el.date).format('MMMM Do YYYY, h:mm:ss a')}</h1>\n            <h1>{moment(el.date).fromNow()}</h1>\n          </div>\n        </div>\n        )\n      })\n      return arr\n    }\n  }\n\n  render(){\n\n    return(\n      <Layout.Section>\n        {this.renderInstalls()}\n      </Layout.Section>\n    )\n  }\n\n\n\n}\n\nexport default Installs\n","import { EmptyState, Spinner, Layout, Page, Card, Select, Button } from '@shopify/polaris';\nimport Installs from './installs.js'\nimport Cookies from 'js-cookie';\n\nimport \"./styles/selector.css\"\n\nclass Selector extends React.Component {\n  constructor(props){\n    super(props);\n    this.state = {\n      shopName: '',\n      selected: '',\n      themes: [],\n      installs: []\n    };\n  }\n\n  componentDidMount(){\n    this.getThemes();\n    this.getInstalls()\n  }\n\n  render() {\n    return (\n        <Card>\n          {this.renderSelector()}\n          {this.renderInstalls()}\n        </Card>\n    );\n  };\n\n  getThemes = async () => {\n    let urlParams = new URLSearchParams(window.location.search);\n    let shopOrigin = urlParams.get('shop');\n    let shopName = urlParams.get('shop').split(\".\")[0]\n    fetch(\"/themes/\" + shopName, { method: \"GET\"})\n    .then(response => response.json())\n    .then(json => this.setState({themes: json.data.themes, shopName: shopName, loading: false}))\n  };\n\n  getInstalls = async () => {\n      let urlParams = new URLSearchParams(window.location.search);\n      let shopOrigin = urlParams.get('shop');\n      let shopName = urlParams.get('shop').split(\".\")[0]\n      fetch(\"/\"+shopName+\"/installs\", { method: \"GET\"})\n      .then(response => response.json())\n      .then(json =>{\n          this.setState({installs: json.data})\n      })\n  }\n\n  handleChange = (newValue) => {\n    this.setState({selected: newValue});\n  };\n\n  triggerReset = () => {\n    this.setState({\n      selected: ''\n    })\n  }\n\n  renderSelector = () => {\n      return(\n        <div className=\"selector-header\">\n          <Select\n            options = {this.state.themes ? this.state.themes.map(el => {return{label: `${el.name}`, value:`${el.id}`}}) : null}\n            onChange={this.handleChange}\n            value={this.state.selected}\n            placeholder = \"select a theme\"\n            />\n          <Button primary onClick={this.assetUpdateRequest}>Add</Button>\n        </div>\n      )\n  }\n\n  renderInstalls = () => {\n      return(\n        <Card><Installs shopName={this.state.shopName} installs={this.state.installs}/></Card>\n      )\n  }\n\n  assetUpdateRequest = async () => {\n    var fetchUrl = `${this.state.shopName}/${this.state.selected}`;\n    var method = \"PUT\";\n    fetch(fetchUrl, { method: method })\n    .then(response => response.json())\n    .then(json => {\n      if (json.status === 'success'){\n        this.setState({loading: false})\n      }\n    })\n    .then( () => {\n      this.getInstalls()\n    })\n  }\n}\n\nexport default Selector;\n","class WalkthroughInfo extends React.Component {\n\n  render(){\n      if(this.props.field == \"homepage\"){\n        return(\n          <h1>THIS IS THE HOMEPAGE INFO SECTION</h1>\n        )\n      }\n      if(this.props.field == \"other-pages\"){\n        return(\n          <h1>THIS IS THE OTHER PAGES SECTION</h1>\n        )\n      } else {\n        return (<h1> empty </h1>)\n      }\n  }\n}\n\nexport default WalkthroughInfo\n","import { Card, Tabs } from '@shopify/polaris';\nimport WalkthroughInfo from \"./walkthrough-info.js\"\n\nclass Window extends React.Component {\n  constructor(props){\n    super(props);\n    this.state = {\n      selected: 0\n    };\n  }\n\n  handleTabChange = (selectedTabIndex) => {\n    this.setState({selected: selectedTabIndex});\n  };\n\n  render() {\n    const selected = this.state.selected;\n    const tabs = [\n      {\n        id: 'homepage',\n        content: 'Homepage'\n      },\n      {\n        id: 'other-pages',\n        content: 'Other Pages'\n      }\n    ];\n\n    return (\n      <Card>\n        <Tabs tabs={tabs} selected={selected} onSelect={this.handleTabChange}>\n          <Card.Section title={tabs[selected].header}>\n            <WalkthroughInfo field={tabs[selected].id} />\n          </Card.Section>\n        </Tabs>\n      </Card>\n    );\n  }\n}\n\nexport default Window\n","module.exports = require(\"@shopify/polaris\");","module.exports = require(\"core-js/library/fn/object/define-property\");","module.exports = require(\"js-cookie\");","module.exports = require(\"moment\");","module.exports = require(\"react\");"],"mappings":";;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACxFA;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;ACdA;AAEA;AACA;AACA;AAGA;AACA;AAAA;AACA;AAGA;AACA;AAAA;AACA;AAGA;AACA;AACA;AAEA;AACA;AAtBA;AACA;AAuBA;;;;;;;;;;;;;;;;;;;;;ACxBA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAQA;AAAA;AAAA;AACA;AACA;AARA;AACA;AADA;AAGA;AACA;AAKA;AACA;AACA;AAEA;AACA;AAFA;AAKA;AACA;AAFA;AAKA;AACA;AAFA;AAMA;AAEA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAKA;AACA;AAvCA;AACA;AAwCA;;;;;;;;;;;;;;;;;;;;;;;;;AC5CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAcA;AACA;AAOA;AACA;AAIA;AACA;AACA;AA3BA;AACA;AADA;AAGA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAkBA;AACA;AACA;AAKA;AACA;AAvCA;AACA;AAwCA;;;;;;;;;;;;;;;;;;;;;;;;AC/CA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAFA;AAKA;AACA;AAAA;AACA;AAAA;AAAA;AAEA;AACA;AACA;AAAA;AAAA;AACA;AAJA;AAOA;AAAA;AAOA;AACA;AACA;AACA;AAvBA;AACA;AAwBA;AAEA;AAKA;AACA;AApCA;AACA;AAwCA;;;;;;;;;;;;;;;;;;;;;;;;;AC9CA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAFA;AAyBA;AACA;AACA;AACA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AACA;AACA;AAhCA;AAkCA;AACA;AACA;AACA;AAAA;AAAA;AAGA;AAAA;AAAA;AACA;AACA;AACA;AA3CA;AA6CA;AAAA;AAAA;AACA;AACA;AA/CA;AAiDA;AACA;AADA;AAGA;AACA;AArDA;AAuDA;AACA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAJA;AAMA;AAAA;AAAA;AAGA;AACA;AAnEA;AAqEA;AACA;AAAA;AAAA;AAEA;AACA;AAzEA;AA2EA;AACA;AACA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AAtFA;AACA;AACA;AACA;AACA;AAJA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAMA;AACA;AAxBA;AACA;AA0FA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACjGA;AAEA;AACA;AACA;AAGA;AACA;AAAA;AACA;AAGA;AACA;AACA;AACA;AACA;AAhBA;AACA;AAiBA;;;;;;;;;;;;;;;;;;;;;AClBA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAQA;AAAA;AAAA;AACA;AACA;AARA;AACA;AADA;AAGA;AACA;AAKA;AACA;AACA;AAEA;AACA;AAFA;AAKA;AACA;AAFA;AAMA;AAEA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAKA;AACA;AAnCA;AACA;AAoCA;;;;;;;;;;;;;;;;;;;;;;;ACxCA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;A","sourceRoot":""}